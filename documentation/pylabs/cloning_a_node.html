
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Arakoon :: Cloning a Node</title>
    <meta name="description"
      content="Arakoon is a distributed, consistent key-value store">
    <meta name="author" content="Incubaid BVBA">

    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link href="../../bootstrap/bootstrap.css" rel="stylesheet" />
    <link href="../../style.css" rel="stylesheet" />
    <link href="../../code.css" rel="stylesheet" />

    <!-- TODO
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
    -->



    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-27966654-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>

  <body class='page-documentation_pylabs_cloning_a_node'>

    <header>
    <div class="topbar">
      <div class='container'>
        <a href='../../index.html'>
          <img alt='Arakoon' title='Arakoon Logo' src='../../img/logo.png' id='logo' />
        </a>
      </div>

      <div class="fill">
        <div class="container">
        <nav>
          <ul class="nav">
            <li>
            <a href="../../index.html">Home</a>
            </li>
            <li>
            <a href="../../download.html">Download</a>
            </li>
            <li>
            <a href="../../documentation/index.html">Documentation</a>
            </li>
            <li>
            <a href="../../contact.html">Contact</a>
            </li>
          </ul>
        </nav>
        </div>
      </div>
    </div>
    </header>

    <div class="container" id='main'>
      
<div class="document" id="cloning-a-node">
<h1 class="title">Cloning a Node</h1>

<p>When you intend to grow your cluster, it might be interesting to clone the
existing node prior to changing the cluster configuration. Once the cluster
configuration is changed to two nodes, both nodes need to accept an update
before it will be accepted. If the first node contains a lot of data, the
second node must perform a large catchup operation (to make it in sync with the
original node) before it accepts new updates. During the catchup period no new
values can be added nor updated.</p>
<p>To minimize the catchup window, you can clone a node in the cluster before the
configuration is changed. This way the catchup procedure is limited to the
updates that were added since the moment of cloning.</p>
<p>To add a clone, you first need to add a node to the cluster as shown in the
<a class="reference external" href="configuring_arakoon.html">Configuring Arakoon section</a>:</p>
<pre class="literal-block">
newcluster = q.manage.arakoon.getCluster('Demo_Cluster')
newcluster.addNode(name='Node_4', ip='192.168.1.4', clientPort=7083, messagingPort=10003)
newcluster.addLocalNode('Node_4')
newcluster.createDirs('Node_4')
</pre>
<p>After creating the new node, simply call the catchupOnly function on the
cluster object to clone a node:</p>
<pre class="literal-block">
newcluster.catchupOnly('Node_4')
</pre>
<p>To clone a node via the Arakoon CLI, see <a class="reference external" href="../managing_arakoon.html#cloning-a-node">Arakoon CLI</a>.</p>
</div>


      <footer>
      <div class='row'>
        <div class='span-one-third'>
          <p>&copy; 2011, Incubaid BVBA</p>
        </div>
        <div class='span-two-thirds'>
          <p class='pull-right'>
            <a href='../../disclaimer.html'>Disclaimer</a>
            |
            <a href='../../privacy_policy.html'>Privacy Policy</a>
          </p>
        </div>
      </div>
      </footer>
    </div>
  </body>
</html>