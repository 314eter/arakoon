\subsection{nodes in ocaml}
Implementing the nodes in ocaml using Ocsigen's LWT library gives ample control over the fine grained concurrency we need through monadic coroutines.
\subsection{Other clients}
Besides the obvious ocaml client, Arakoon provides some clients written in other languages:
\begin{itemize}
\item{python}
\item{php}
\item{C}
\end{itemize}
These are pure clients, in the sense that for example the Python client is 100\% Python and not a wrapped C client. 
We might have to reconsider this strategy as the number of different clients grows. \ldots meanwhile, there are unconfirmed rumours about an Erlang client in the wilde.

\subsection{local key/value store}
We've picked tokyo cabinet. 
Our client interface matches its api quite well. 
It might be an idea to make this pluggable, but we don't need this at the moment.
Tokyo Cabinet is great for small values, but it will not cope with values of 1MB; 
even 10KB gives problems if you don't tweak the parameters. 
In essence, allowing both 1B and 1MB in the same BTree will eventually explode.

\subsection{forced master and quorum}
We needed to solve the case where you have only 2 nodes.
The simplest solution is to allow the master to be chosen by configuration and the quorum to be fixed. 
This way, you can chose for the 2 node case where you want the master, 
and if you're willing to take the risk to keep on writing in a case of a slave node not responding, you just set the quorum to 1.

\section{Other strategical decisions}
\subsection{REST interface}
We decided not to offer a REST interface.
\subsection{dynamically adding nodes}
All the nodes know one another from their configuration files,
but adding a node is not trivial. 
For example, one wants to add a third node in a two node setup and starts a node with a config referring to the two existing nodes. 
But these older nodes are clueless 
and have another opinion on how many nodes need to concur. 
A cluster protects itself by not answering to nodes it does not know; 
but this means adding a node means you need to restart the existing nodes.

\paragraph{}
It might be better to make the \emph{known\_nodes} a paxos value 
over which consensus must be reached, but this has additional risks.
The population can only change with reasonable increments.

